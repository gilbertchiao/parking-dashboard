# 停車場智慧中控台規劃

## 專案概述

開發一個單螢幕呈現的停車場智慧中控台，讓管理人員即時掌握停車場所有狀況。

### 停車場基本資料
- **樓層**：B1, B2, B3, B4（共 4 層）
- **車格總數**：
  - 汽車：1,500 格（含充電 15 格、婦幼 15 格、身障 15 格）
  - 機車：3,000 格
  - 中型巴士：11 格
  - 大型巴士：5 格
  - 重型機車：4 格
- **出入口**：機車 5 處、汽車 6 處
- **設施**：電梯 10 座、樓梯 6 處
- **外部 API**：天氣狀況、周邊道路擁擠程度

---

## 中控台資訊區塊規劃

### 整體版面配置（建議採用 Dashboard Grid Layout）

```
┌─────────────────────────────────────────────────────────────────────────┐
│  [A] 標題列 + 時間 + 天氣 + 道路狀況                                      │
├─────────────────┬─────────────────────────────────┬─────────────────────┤
│                 │                                 │                     │
│  [B] 車位總覽   │     [C] 樓層車位分布圖           │  [D] 出入口即時     │
│     大型數字卡  │         視覺化熱力圖             │      流量監控       │
│                 │                                 │                     │
├─────────────────┼─────────────────────────────────┼─────────────────────┤
│                 │                                 │                     │
│  [E] 特殊車格   │     [F] 今日進出統計             │  [G] 設施狀態       │
│     狀態面板    │         折線圖/長條圖            │      監控面板       │
│                 │                                 │                     │
├─────────────────┴─────────────────────────────────┴─────────────────────┤
│  [H] 即時告警與通知列                                                    │
└─────────────────────────────────────────────────────────────────────────┘
```

---

## 各區塊詳細規劃

### [A] 頂部資訊列
**用途**：顯示系統狀態與外部環境資訊

| 項目 | 呈現方式 | 說明 |
|------|---------|------|
| 系統標題 | 文字 | 「XX 停車場智慧中控台」 |
| 即時時間 | 動態時鐘 | YYYY/MM/DD HH:mm:ss |
| 天氣狀況 | 圖示 + 文字 | 天氣圖示 + 溫度 + 降雨機率 |
| 道路擁擠度 | 色彩指示燈 | 綠/黃/紅 燈號 + 文字描述 |

---

### [B] 車位總覽區（核心區塊）
**用途**：一眼掌握各類車位剩餘數量

**呈現方式**：大型數字卡片（Stat Cards）

```
┌──────────────┐  ┌──────────────┐  ┌──────────────┐
│   🚗 汽車    │  │   🏍️ 機車    │  │   🚌 巴士    │
│              │  │              │  │              │
│    856       │  │   2,341      │  │     12       │
│   /1,500     │  │   /3,000     │  │    /16       │
│              │  │              │  │              │
│ ████████░░░  │  │ ██████████░  │  │ █████████░░  │
│    57%       │  │     78%      │  │     75%      │
└──────────────┘  └──────────────┘  └──────────────┘
```

**設計要點**：
- 使用環形進度條或長條進度條顯示佔用率
- 佔用率 > 90% 時變為紅色警示
- 數字採用大字體，遠距離可辨識
- 巴士整合顯示（中型 11 + 大型 5 = 16 格）

---

### [C] 樓層車位分布圖（視覺化核心）
**用途**：了解各樓層車位分布與熱點

**呈現方式**：分層堆疊圖 或 熱力方塊圖

```
     汽車使用率        機車使用率
B1  ████████░░  80%   █████████░  90%
B2  ██████░░░░  60%   ████████░░  80%
B3  ████░░░░░░  40%   ██████░░░░  60%
B4  ██░░░░░░░░  20%   ████░░░░░░  40%
```

**設計要點**：
- 可切換查看不同車種
- 滑鼠 hover 顯示詳細數據
- 使用漸層色彩表示擁擠程度（綠→黃→紅）
- 點擊可展開該樓層詳細資訊

---

### [D] 出入口即時流量監控
**用途**：監控各出入口狀態與流量

**呈現方式**：狀態指示卡 + 即時流量數字

```
汽車出入口（6 處）           機車出入口（5 處）
┌────┬────┬────┐           ┌────┬────┬────┐
│ A1 │ A2 │ A3 │           │ M1 │ M2 │ M3 │
│ 🟢 │ 🟢 │ 🟡 │           │ 🟢 │ 🟢 │ 🟢 │
│ 12 │  8 │ 23 │           │ 45 │ 38 │ 52 │
├────┼────┼────┤           ├────┼────┴────┤
│ A4 │ A5 │ A6 │           │ M4 │   M5    │
│ 🟢 │ 🔴 │ 🟢 │           │ 🟢 │   🟡    │
│ 15 │  0 │ 10 │           │ 41 │   67    │
└────┴────┴────┘           └────┴─────────┘

🟢 正常  🟡 擁擠  🔴 故障/關閉
數字 = 過去 10 分鐘進出車次
```

**設計要點**：
- 即時更新流量數據
- 故障時自動變紅並觸發告警
- 點擊可查看該出入口攝影畫面（如有）

---

### [E] 特殊車格狀態面板
**用途**：監控特殊車格使用狀況

**呈現方式**：小型狀態卡片群組

```
┌─────────────────────────────┐
│ ⚡ 充電車格    12/15  ███░  │
├─────────────────────────────┤
│ 👶 婦幼車格     8/15  ██░░  │
├─────────────────────────────┤
│ ♿ 身障車格     6/15  ██░░  │
├─────────────────────────────┤
│ 🏍️ 重機車格    3/4   ███░  │
└─────────────────────────────┘
```

**設計要點**：
- 使用圖示快速識別類型
- 顯示使用中/總數
- 充電車格可額外顯示充電中車輛數

---

### [F] 今日進出統計圖表
**用途**：分析今日車流趨勢

**呈現方式**：折線圖 或 面積圖

```
車輛進出趨勢（今日）
  ^
80│      ╭─╮
60│    ╭─╯ ╰──╮    ╭──
40│  ╭─╯      ╰──╮╭╯
20│╭─╯           ╰╯
  └──────────────────────>
   6  8  10 12 14 16 18 20 時

─── 進場  ─ ─ 出場
```

**設計要點**：
- 區分進場/出場兩條線
- 可切換查看汽車/機車
- 標示尖峰時段
- 顯示今日累計進出總數

---

### [G] 設施狀態監控面板
**用途**：監控電梯與樓梯狀態

**呈現方式**：狀態矩陣

```
電梯狀態（10 座）
┌──┬──┬──┬──┬──┐
│E1│E2│E3│E4│E5│
│🟢│🟢│🟢│🔴│🟢│
│B2│B1│B3│--│B4│
├──┼──┼──┼──┼──┤
│E6│E7│E8│E9│E10│
│🟢│🟡│🟢│🟢│🟢│
│B1│B2│B4│B3│B1│
└──┴──┴──┴──┴──┘

🟢 運行中(樓層)  🟡 維護中  🔴 故障

樓梯通道（6 處）
S1🟢 S2🟢 S3🟢 S4🟢 S5🟢 S6🟢
```

**設計要點**：
- 電梯顯示目前所在樓層
- 故障時立即變色並告警
- 維護中狀態可預先設定

---

### [H] 即時告警與通知列
**用途**：顯示系統告警與重要通知

**呈現方式**：跑馬燈 或 通知列表

```
┌─────────────────────────────────────────────────────────────────────────┐
│ 🔴 14:32 E4電梯故障待修 │ 🟡 14:28 A3出口車流量偏高 │ 🟢 14:15 系統運作正常 │
└─────────────────────────────────────────────────────────────────────────┘
```

**告警等級**：
- 🔴 緊急：設備故障、安全事件
- 🟡 警告：車位即將滿、流量過高
- 🟢 資訊：一般通知、狀態更新

---

## 技術實作建議

### 前端技術棧
- **框架**：Vue 3 + Composition API
- **UI 元件庫**：建議使用 Element Plus 或 Ant Design Vue
- **圖表庫**：ECharts 或 Chart.js
- **樣式**：Tailwind CSS
- **即時更新**：WebSocket 或 SSE（Server-Sent Events）

### 響應式設計考量
- 主要針對大螢幕（1920x1080 或以上）優化
- 支援全螢幕模式
- 深色主題為主（適合控制室環境）

### 資料更新頻率建議
| 資料類型 | 更新頻率 |
|---------|---------|
| 車位數量 | 5-10 秒 |
| 出入口流量 | 10 秒 |
| 設施狀態 | 30 秒 |
| 天氣資訊 | 5 分鐘 |
| 道路狀況 | 1 分鐘 |
| 統計圖表 | 1 分鐘 |

---

## 確認事項

- ✅ **資料來源**：先用模擬資料（Mock Data）開發
- ✅ **攝影整合**：第一版暫不整合，未來再考慮
- ✅ **使用情境**：控制室大螢幕（針對 1920x1080 以上解析度優化）

### 設計重點
- 大字體、高對比，遠距離可辨識
- 深色主題（Dark Mode）減少眩光
- 全螢幕模式，無需滾動
- 自動輪播或固定顯示所有區塊

---

## 檔案結構規劃

```
parking-dashboard/
├── public/
├── src/
│   ├── assets/          # 圖片、圖示
│   ├── components/      # Vue 元件
│   │   ├── Header/      # [A] 頂部資訊列
│   │   ├── ParkingOverview/  # [B] 車位總覽
│   │   ├── FloorMap/    # [C] 樓層分布圖
│   │   ├── GateMonitor/ # [D] 出入口監控
│   │   ├── SpecialSlots/# [E] 特殊車格
│   │   ├── Statistics/  # [F] 統計圖表
│   │   ├── Facilities/  # [G] 設施狀態
│   │   └── AlertBar/    # [H] 告警通知列
│   ├── composables/     # Vue Composables
│   ├── services/        # API 服務
│   ├── stores/          # Pinia 狀態管理
│   ├── utils/           # 工具函式
│   ├── App.vue
│   └── main.js
├── package.json
└── vite.config.js
```

---

## 驗證方式

1. **視覺驗證**：啟動開發伺服器，在瀏覽器中檢視各區塊是否正確顯示
2. **資料模擬**：使用 Mock 資料測試各種狀態（正常、警告、故障）
3. **響應式測試**：測試不同螢幕解析度下的顯示效果
4. **即時更新測試**：驗證 WebSocket 連線與資料即時更新
